{"id":"gwt-2on","title":"Increment 6: List Command","description":"Implement the list command as the first fully functional command","status":"open","priority":1,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:30:22.624576+01:00","created_by":"timo","updated_at":"2026-01-11T16:30:22.624576+01:00","labels":["commands","list"],"dependencies":[{"issue_id":"gwt-2on","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:31.342703+01:00","created_by":"timo"},{"issue_id":"gwt-2on","depends_on_id":"gwt-4io","type":"blocks","created_at":"2026-01-11T16:30:31.644281+01:00","created_by":"timo"}]}
{"id":"gwt-4ce","title":"Increment 12: Shell Integration Enhancement","description":"Enhance shell integration with eval-output for all commands and fzf support for interactive selection. This provides seamless directory switching.\n\n**Files to Modify:**\n- lib/src/services/shell_integration.dart (enhanced)\n- lib/src/infrastructure/prompt_selector.dart (enhanced with fzf)\n\n**Files to Create:**\n- docs/INSTALLATION.md (shell wrapper instructions)\n- docs/completion/bash/gwt-completion.bash\n- docs/completion/zsh/_gwt\n- docs/completion/fish/gwt.fish\n- test/unit/services/shell_integration_test.dart (enhanced)\n\n**Relevant Requirements:**\n- From PRD.md Section 3.5: Shell Integration\n- From ARCHITECTURE.md Section 5.7: Shell Integration with eval-output\n- From PRD.md Section 3.5.3: Tab Completion Support\n\n**Instructions:**\n1. Enhance shell integration for all commands\n2. Implement fzf detection and integration\n3. Use fzf for interactive selection when available\n4. Fall back to Dart selector if fzf not available\n5. Implement tab completion for worktree names (list, switch)\n6. Implement tab completion for branch names (add)\n7. Tab completion includes . for main workspace\n8. Create shell wrapper documentation for bash, zsh, fish, PowerShell, nushell\n9. Create tab completion scripts for bash, zsh, fish\n10. Ensure graceful degradation if fzf not installed\n11. Add configuration option to disable shell integration\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. All commands output eval commands where appropriate\n2. Shell wrapper functions provided for bash, zsh, fish, PowerShell, nushell\n3. fzf detected automatically if available\n4. Interactive selection uses fzf when available, falls back to Dart selector\n5. Tab completion for worktree names in list/switch commands\n6. Tab completion for branch names in add command\n7. Tab completion includes . for main workspace\n8. Installation instructions for shell wrappers documented\n9. Graceful degradation if fzf not installed\n10. Shell integration can be disabled via config\n11. All unit tests pass with 90%+ coverage for enhanced shell integration","status":"open","priority":2,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:29:52.010507+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:52.010507+01:00","labels":["completion","fzf","shell-integration"],"dependencies":[{"issue_id":"gwt-4ce","depends_on_id":"gwt-t39","type":"blocks","created_at":"2026-01-11T16:30:35.92214+01:00","created_by":"timo"},{"issue_id":"gwt-4ce","depends_on_id":"gwt-dys","type":"blocks","created_at":"2026-01-11T16:30:36.241728+01:00","created_by":"timo"}]}
{"id":"gwt-4dg","title":"Increment 15: Final Quality Assurance","description":"Perform final quality assurance, performance testing, and cross-platform validation. This ensures the tool is ready for production release.\n\n**Relevant Requirements:**\n- From PRD.md Section 4.3: Performance targets\n- From PRD.md Section 4.4: Error handling requirements\n- From IMPLEMENTATION_PLAN.md Section 15: QA deliverables\n\n**Instructions:**\n1. Run full test suite: `dart test --coverage=coverage`\n2. Verify coverage meets targets (90%+ overall)\n3. Run code analysis: `dart analyze`\n4. Run code formatting: `dart format .`\n5. Verify performance targets:\n   - Worktree creation: \u003c 2 seconds (excluding dependency installation)\n   - Worktree switching: \u003c 500ms\n   - Worktree listing: \u003c 100ms for up to 100 worktrees\n6. Perform cross-platform testing on Windows, Linux, macOS\n7. Conduct security audit: command injection prevention, path validation, config validation\n8. Perform end-to-end user acceptance testing\n9. Verify all PRD requirements are met\n10. Verify all ARCHITECTURE principles are followed\n11. Prepare for v1.0.0 release\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. All tests pass (`dart test`)\n2. Code analysis passes (`dart analyze`)\n3. Code formatted (`dart format .`)\n4. Performance targets verified:\n   - Worktree creation: \u003c 2 seconds (excluding dependency installation)\n   - Worktree switching: \u003c 500ms\n   - Worktree listing: \u003c 100ms for up to 100 worktrees\n5. Cross-platform testing completed on Windows, Linux, macOS\n6. Security audit: command injection prevention, path validation, config validation\n7. User acceptance testing completed\n8. All PRD requirements met\n9. All ARCHITECTURE principles followed\n10. Ready for v1.0.0 release","status":"open","priority":0,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:30:06.777772+01:00","created_by":"timo","updated_at":"2026-01-11T16:30:06.777772+01:00","labels":["qa","release"],"dependencies":[{"issue_id":"gwt-4dg","depends_on_id":"gwt-eaa","type":"blocks","created_at":"2026-01-11T16:30:38.935468+01:00","created_by":"timo"}]}
{"id":"gwt-4io","title":"Increment 5: Git Client Implementation","description":"Implement the real GitClient wrapper and all Git operations. This provides the core Git integration.\n\n**Files to Create:**\n- lib/src/infrastructure/git_client_impl.dart\n- test/unit/infrastructure/git_client_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 5.3: Git Command Integration\n- From ARCHITECTURE.md Section 5.6: Git Client wrapping ProcessWrapper\n- From PRD.md Section 10.2: Exit code 7 for Git failures\n\n**Instructions:**\n1. Implement GitClient using ProcessWrapper dependency injection\n2. Implement createBranch() to create new Git branch\n3. Implement createWorktree() to create worktree directory\n4. Implement listWorktrees() to return list of all worktrees\n5. Implement removeWorktree() to remove worktree via Git\n6. Implement getCurrentBranch() to return current branch name\n7. Implement branchExists() to check if branch exists locally\n8. Implement hasUncommittedChanges() to detect modified files\n9. Ensure all commands return exit code 7 on Git failure\n10. Display all Git command output (stdout + stderr) to user\n11. Include specific Git command in error messages\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `createBranch(name)` creates new Git branch\n2. `createWorktree(path, branch)` creates worktree directory\n3. `listWorktrees()` returns list of all worktrees including main repo\n4. `removeWorktree(path)` removes worktree via Git\n5. `getCurrentBranch()` returns current branch name\n6. `branchExists(branch)` checks if branch exists locally\n7. `hasUncommittedChanges()` detects modified files\n8. All commands return exit code 7 on Git failure\n9. All Git command output (stdout + stderr) is displayed to user\n10. Error messages include the specific Git command that failed\n11. All unit tests pass with 90%+ coverage for GitClient","status":"open","priority":0,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:29:23.069757+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:23.069757+01:00","labels":["git","infrastructure"],"dependencies":[{"issue_id":"gwt-4io","depends_on_id":"gwt-a9i","type":"blocks","created_at":"2026-01-11T16:30:31.059109+01:00","created_by":"timo"}]}
{"id":"gwt-54o","title":"Increment 9: Clean Command","description":"Implement the clean command for deleting worktrees and returning to main repository. This completes the core worktree lifecycle.\n\n**Files to Create:**\n- lib/src/commands/clean.dart\n- test/unit/commands/clean_test.dart\n- test/integration/clean_command_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.1.3: Clean Worktree command\n- From ARCHITECTURE.md Section 5.2: Worktree Service with clean operations\n- From PRD.md Section 10.2: Exit code 2 for invalid arguments\n\n**Instructions:**\n1. Implement CleanCommand with --force flag\n2. Add confirmation prompts for uncommitted changes\n3. Implement force flag to bypass safety checks\n4. Use Git to remove worktree (proper cleanup)\n5. Return to main repository directory after deletion\n6. Execute pre_clean hooks (placeholder for now)\n7. Execute post_clean hooks (placeholder for now)\n8. Validate current directory is a worktree before proceeding\n9. Handle worktree removal failures with exit code 7\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `gwt clean` deletes current worktree and returns to main repo\n2. Prompts for confirmation if uncommitted changes exist\n3. `gwt clean --force` deletes without prompts\n4. Fails with exit code 2 if run from main workspace (not a worktree)\n5. Uses Git to remove worktree (proper cleanup)\n6. Returns to main repository directory after deletion\n7. Executes pre_clean hooks (placeholder for now)\n8. Executes post_clean hooks (placeholder for now)\n9. Validates current directory is a worktree before proceeding\n10. Handles worktree removal failures with exit code 7\n11. All unit and integration tests pass with 90%+ coverage for CleanCommand","status":"open","priority":1,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:29:38.307729+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:38.307729+01:00","labels":["clean","commands"],"dependencies":[{"issue_id":"gwt-54o","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:33.908269+01:00","created_by":"timo"},{"issue_id":"gwt-54o","depends_on_id":"gwt-4io","type":"blocks","created_at":"2026-01-11T16:30:34.249233+01:00","created_by":"timo"}]}
{"id":"gwt-7dq","title":"Increment 1: Project Foundation \u0026 Core Models","description":"Establish the project structure, domain models, and exception hierarchy. This creates the foundation for all subsequent features.\n\n**Files to Create:**\n- lib/src/models/worktree.dart\n- lib/src/models/config.dart\n- lib/src/models/hook.dart\n- lib/src/models/exit_codes.dart\n- lib/src/exceptions.dart\n- lib/gwt.dart\n\n**Relevant Requirements:**\n- From ARCHITECTURE.md Section 6: Data Models define Worktree, Config, Hook models\n- From ARCHITECTURE.md Section 7.2: Exception hierarchy with exit codes\n- From PRD.md Section 10.2: Exit codes 0, 1, 2, 3, 4, 5, 6, 7\n\n**Instructions:**\n1. Create complete directory structure as specified in ARCHITECTURE.md\n2. Implement domain models with proper types and validation\n3. Create exception hierarchy extending GwtException base class\n4. Ensure all models compile without errors\n5. Run `dart analyze` to verify code quality\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. All models compile without errors\n2. `dart analyze` passes with zero issues\n3. Exit codes match PRD specification (0, 1, 2, 3, 4, 5, 6, 7)\n4. All exceptions include `exitCode` and `message` properties\n5. `Worktree` model includes: name, branch, path, isMain, status, lastModified\n6. `Config` model includes: version, copy, hooks, shellIntegration\n7. `Hook` model supports both array format and object format with timeout\n8. Configuration override mechanism models supported (_prepend, _append)\n9. Library entry point exports all public APIs","status":"closed","priority":0,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-11T16:29:07.861426+01:00","created_by":"timo","updated_at":"2026-01-11T16:54:55.072154+01:00","closed_at":"2026-01-11T16:54:55.072154+01:00","close_reason":"Closed","labels":["foundation","models"]}
{"id":"gwt-a9i","title":"Increment 2: Infrastructure Interfaces \u0026 Test Doubles","description":"Create the infrastructure layer interfaces and implement test doubles. This addresses the critical technical constraint of testability without external tool invocation.\n\n**Files to Create:**\n- lib/src/infrastructure/process_wrapper.dart (interface)\n- lib/src/infrastructure/file_system_adapter.dart (interface)\n- lib/src/infrastructure/git_client.dart (interface)\n- lib/src/infrastructure/platform_detector.dart\n- lib/src/utils/path_utils.dart\n- test/mock_objects/fake_process_wrapper.dart\n- test/mock_objects/fake_file_system_adapter.dart\n- test/mock_objects/mock_git_client.dart\n\n**Relevant Requirements:**\n- From ARCHITECTURE.md Section 5.6: Git Client interface\n- From ARCHITECTURE.md Section 8.1: Never invoke external tools in tests\n- From ARCHITECTURE.md Section 8.3: Test doubles using interfaces\n\n**Instructions:**\n1. Define ProcessWrapper interface with run() and runStreamed() methods\n2. Define FileSystemAdapter interface with file/directory operations\n3. Define GitClient interface with all Git operations from PRD\n4. Implement PlatformDetector to identify Windows, macOS, Linux\n5. Implement PathUtils for platform-appropriate path handling\n6. Create FakeProcessWrapper with canned response configuration\n7. Create FakeFileSystemAdapter with simulated file operations\n8. Create MockGitClient using mockito for method verification\n9. Ensure all test doubles throw descriptive errors on unexpected calls\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. ProcessWrapper interface supports `run()` and `runStreamed()` with timeout\n2. FileSystemAdapter interface supports file/directory operations with glob matching\n3. GitClient interface declares all Git operations from PRD\n4. PlatformDetector correctly identifies Windows, macOS, Linux\n5. PathUtils handles platform-appropriate path separators\n6. FakeProcessWrapper can be configured with canned responses\n7. FakeFileSystemAdapter can simulate file operations\n8. MockGitClient (using mockito) can verify method calls\n9. All test doubles throw descriptive errors when unexpected calls are made\n10. All interfaces compile without errors\n11. `dart analyze` passes with zero issues","status":"open","priority":0,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:29:11.721522+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:11.721522+01:00","labels":["infrastructure","test-doubles"],"dependencies":[{"issue_id":"gwt-a9i","depends_on_id":"gwt-7dq","type":"blocks","created_at":"2026-01-11T16:30:29.818216+01:00","created_by":"timo"}]}
{"id":"gwt-dys","title":"Increment 11: Hook Service","description":"Implement the hook execution system with timeout, error handling, and environment variable expansion. This enables automation and custom workflows.\n\n**Files to Create:**\n- lib/src/services/hook_service.dart\n- test/unit/services/hook_service_test.dart\n- test/integration/hook_service_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.4: Hook System\n- From ARCHITECTURE.md Section 5.4: Hook Service with sequential execution\n- From PRD.md Section 10.2: Exit code 5 for hook failures\n\n**Instructions:**\n1. Implement HookService for executing shell commands\n2. Implement environment variable expansion ($GWT_WORKTREE_PATH, $GWT_ORIGIN_PATH, $GWT_BRANCH)\n3. Set environment variables for hooks: GWT_WORKTREE_PATH, GWT_ORIGIN_PATH, GWT_BRANCH\n4. Display all hook output (stdout + stderr) to user\n5. Execute hooks sequentially in order\n6. Fail immediately on first hook failure (exit code 5)\n7. Display error output from failed hook command\n8. Implement global timeout (default 30 seconds)\n9. Implement per-hook timeout override\n10. Terminate hook execution on timeout\n11. Integrate with all commands (add, switch, clean)\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. Executes hooks sequentially in order\n2. Expands environment variables in hook commands\n3. Sets GWT_WORKTREE_PATH, GWT_ORIGIN_PATH, GWT_BRANCH for hooks\n4. Displays all hook output (stdout + stderr) to user\n5. Fails immediately on first hook failure (exit code 5)\n6. Displays error output from failed hook command\n7. Implements global timeout (default 30 seconds)\n8. Implements per-hook timeout override\n9. Terminates hook execution on timeout\n10. Hooks configured in merged config (global + repo + local)\n11. All unit and integration tests pass with 95%+ coverage for HookService","status":"open","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2026-01-11T16:29:46.808244+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:46.808244+01:00","labels":["hooks","services"],"dependencies":[{"issue_id":"gwt-dys","depends_on_id":"gwt-a9i","type":"blocks","created_at":"2026-01-11T16:30:35.276325+01:00","created_by":"timo"},{"issue_id":"gwt-dys","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:35.586064+01:00","created_by":"timo"}]}
{"id":"gwt-eaa","title":"Increment 13: Complete Feature Integration","description":"Integrate all services together and ensure complete feature parity with PRD. This delivers the fully functional GWT tool.\n\n**Files to Modify:**\n- lib/src/commands/add.dart (full integration)\n- lib/src/commands/switch.dart (full integration)\n- lib/src/commands/clean.dart (full integration)\n- lib/src/commands/list.dart (final polish)\n\n**Files to Create/Enhance:**\n- test/integration/ (comprehensive integration tests)\n\n**Relevant Requirements:**\n- From PRD.md: All feature requirements must be met\n- From ARCHITECTURE.md: Complete system architecture validation\n- From IMPLEMENTATION_PLAN.md Section 13: Full integration of all commands\n\n**Instructions:**\n1. Integrate all services with all commands\n2. Implement complete configuration override mechanism\n3. Test and validate all error paths\n4. Verify performance optimizations\n5. Perform cross-platform testing\n6. Ensure `gwt add` supports: existing branches, new branches (-b), hooks, file copying\n7. Ensure `gwt switch` supports: direct switch, interactive selection, hooks, shell integration\n8. Ensure `gwt clean` supports: normal mode, force mode, hooks, uncommitted changes detection\n9. Ensure `gwt list` supports: simple, verbose, JSON output, current worktree marker\n10. Verify configuration hierarchy works correctly (global + repo + local with override strategies)\n11. Verify all hooks execute in correct order (pre/post for add/switch/clean)\n12. Verify all exit codes match PRD specification\n13. Ensure all error messages are clear and actionable\n14. Verify file copying works with glob patterns and CoW optimization\n15. Verify shell integration enables automatic directory switching\n16. Verify fzf integration works for interactive selection\n17. Test on Windows, Linux, macOS with consistent behavior\n18. Verify performance targets met (\u003c 2s add, \u003c 500ms switch, \u003c 100ms list)\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `gwt add` supports: existing branches, new branches (-b), hooks, file copying\n2. `gwt switch` supports: direct switch, interactive selection, hooks, shell integration\n3. `gwt clean` supports: normal mode, force mode, hooks, uncommitted changes detection\n4. `gwt list` supports: simple, verbose, JSON output, current worktree marker\n5. Configuration hierarchy works correctly (global + repo + local with override strategies)\n6. All hooks execute in correct order (pre/post for add/switch/clean)\n7. All exit codes match PRD specification\n8. All error messages are clear and actionable\n9. File copying works with glob patterns and CoW optimization\n10. Shell integration enables automatic directory switching\n11. fzf integration works for interactive selection\n12. Tool works on Windows, Linux, macOS with consistent behavior\n13. Performance targets met (\u003c 2s add, \u003c 500ms switch, \u003c 100ms list)\n14. Comprehensive integration tests pass\n15. Overall code coverage 90%+","status":"open","priority":2,"issue_type":"task","estimated_minutes":480,"created_at":"2026-01-11T16:29:58.613573+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:58.613573+01:00","labels":["integration","testing"],"dependencies":[{"issue_id":"gwt-eaa","depends_on_id":"gwt-wg6","type":"blocks","created_at":"2026-01-11T16:30:36.578911+01:00","created_by":"timo"},{"issue_id":"gwt-eaa","depends_on_id":"gwt-t39","type":"blocks","created_at":"2026-01-11T16:30:36.882825+01:00","created_by":"timo"},{"issue_id":"gwt-eaa","depends_on_id":"gwt-54o","type":"blocks","created_at":"2026-01-11T16:30:37.202488+01:00","created_by":"timo"},{"issue_id":"gwt-eaa","depends_on_id":"gwt-x5m","type":"blocks","created_at":"2026-01-11T16:30:37.559062+01:00","created_by":"timo"},{"issue_id":"gwt-eaa","depends_on_id":"gwt-dys","type":"blocks","created_at":"2026-01-11T16:30:38.055704+01:00","created_by":"timo"},{"issue_id":"gwt-eaa","depends_on_id":"gwt-4ce","type":"blocks","created_at":"2026-01-11T16:30:38.247655+01:00","created_by":"timo"}]}
{"id":"gwt-fwt","title":"Increment 14: Documentation \u0026 Polish","description":"Complete all documentation and polish the user experience. This ensures the tool is production-ready.\n\n**Files to Create:**\n- README.md\n- CHANGELOG.md\n- CONTRIBUTING.md\n- docs/INSTALLATION.md\n- docs/TROUBLESHOOTING.md\n- docs/SHELL_INTEGRATION.md\n- docs/EXAMPLES.md\n- examples/basic/.gwt.json\n- examples/advanced/.gwt.json\n- examples/advanced/.gwt.local.json\n- examples/minimal/.gwt.json\n\n**Relevant Requirements:**\n- From PRD.md Section 8: Success Metrics for documentation\n- From IMPLEMENTATION_PLAN.md Section 14: Documentation deliverables\n\n**Instructions:**\n1. Write complete README with installation and usage instructions\n2. Create comprehensive troubleshooting guide\n3. Write shell integration installation guide\n4. Write tab completion installation guide\n5. Create example configuration files demonstrating all features\n6. Document all PRD requirements in user-facing docs\n7. Create CHANGELOG documenting all changes\n8. Write contributing guidelines for developers\n9. Ensure documentation is clear, accurate, and up-to-date\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. README includes: project description, features, installation, quick start\n2. Installation guide covers: Dart SDK, shell wrappers, tab completion\n3. Usage examples for all commands\n4. Troubleshooting guide covers common issues\n5. Shell integration guide for all supported shells\n6. Example configurations demonstrate all features\n7. CHANGELOG documents all changes\n8. Contributing guidelines for developers\n9. All PRD requirements documented in user-facing docs\n10. Documentation is clear, accurate, and up-to-date","status":"open","priority":2,"issue_type":"task","estimated_minutes":240,"created_at":"2026-01-11T16:30:02.449666+01:00","created_by":"timo","updated_at":"2026-01-11T16:30:02.449666+01:00","labels":["documentation"],"dependencies":[{"issue_id":"gwt-fwt","depends_on_id":"gwt-eaa","type":"blocks","created_at":"2026-01-11T16:30:38.574893+01:00","created_by":"timo"}]}
{"id":"gwt-nv3","title":"Increment 3: Configuration System","description":"Implement the complete configuration loading system with 3-tier hierarchy and override strategies. This is foundational for all commands.\n\n**Files to Create:**\n- lib/src/services/config_service.dart\n- lib/src/utils/validation.dart\n- test/unit/services/config_service_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.2.1: Configuration hierarchy (global, repo, local)\n- From PRD.md Section 3.2.1: Configuration override strategies (complete, prepend, append)\n- From ARCHITECTURE.md Section 5.3: Configuration merging logic\n\n**Instructions:**\n1. Implement ConfigService to load configurations from 3 tiers\n2. Support both JSON and YAML formats for all config files\n3. Implement complete override: local field replaces repo field\n4. Implement prepend: `_prepend` adds commands before repo list\n5. Implement append: `_append` adds commands after repo list\n6. Support both array and object format for hooks with per-hook timeout\n7. Implement configuration validation (version, timeout range, safe glob patterns)\n8. Handle missing config files with defaults\n9. Return appropriate ConfigException on errors with exit code 6\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. Loads global config from `~/.config/gwt/config.{json,yaml}`\n2. Loads repo config from `.gwt.{json,yaml}` in repository root\n3. Loads local config from `.gwt.local.{json,yaml}` in repository root\n4. Merges configs with correct priority: local \u003e repo \u003e global\n5. Implements complete override (local replaces repo)\n6. Implements prepend: `post_add_prepend` adds commands before repo list\n7. Implements append: `post_add_append` adds commands after repo list\n8. Supports both array and object format for hooks with per-hook timeout\n9. Validates configuration (version, timeout range, safe glob patterns)\n10. Returns `Config` object with all fields populated\n11. Returns appropriate `ConfigException` on errors with exit code 6\n12. All unit tests pass with 95%+ coverage for ConfigService","status":"open","priority":0,"issue_type":"task","estimated_minutes":360,"created_at":"2026-01-11T16:29:15.422024+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:15.422024+01:00","labels":["configuration","services"],"dependencies":[{"issue_id":"gwt-nv3","depends_on_id":"gwt-7dq","type":"blocks","created_at":"2026-01-11T16:30:30.114314+01:00","created_by":"timo"},{"issue_id":"gwt-nv3","depends_on_id":"gwt-a9i","type":"blocks","created_at":"2026-01-11T16:30:30.449558+01:00","created_by":"timo"}]}
{"id":"gwt-t39","title":"Increment 8: Switch Command","description":"Implement the switch command for navigating between worktrees. This enables the core workflow of switching between parallel development sessions.\n\n**Files to Create:**\n- lib/src/commands/switch.dart\n- lib/src/infrastructure/prompt_selector.dart\n- lib/src/services/shell_integration.dart\n- test/unit/commands/switch_test.dart\n- test/unit/infrastructure/prompt_selector_test.dart\n- test/unit/services/shell_integration_test.dart\n- test/integration/switch_command_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.1.2: Switch Worktree command\n- From ARCHITECTURE.md Section 5.7: Shell Integration with eval-output\n- From PRD.md Section 3.5.1: Automatic Directory Switching\n\n**Instructions:**\n1. Implement SwitchCommand with optional worktree name argument\n2. Create PromptSelector for interactive selection\n3. Implement ShellIntegration for eval output\n4. Support . to switch to main workspace\n5. Show interactive selection when no argument provided\n6. Include main workspace as . in interactive menu\n7. Validate worktree exists before switching\n8. Output eval command for directory switching: `cd \u003cpath\u003e`\n9. Handle selection cancellation gracefully\n10. Only work from main repo or existing worktree\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `gwt switch feature-auth` switches to specific worktree\n2. `gwt switch .` switches to main Git workspace\n3. `gwt switch` shows interactive selection menu\n4. Interactive menu includes main workspace as .\n5. Fails with exit code 3 if worktree doesn't exist\n6. Only works from main repo or existing worktree\n7. Outputs eval command for directory switching: `cd \u003cpath\u003e`\n8. Output can be wrapped by shell function for automatic CD\n9. Handles selection cancellation gracefully\n10. Validates worktree exists before switching\n11. All unit and integration tests pass with 90%+ coverage for SwitchCommand","status":"open","priority":1,"issue_type":"task","estimated_minutes":300,"created_at":"2026-01-11T16:29:34.718905+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:34.718905+01:00","labels":["commands","switch"],"dependencies":[{"issue_id":"gwt-t39","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:32.91962+01:00","created_by":"timo"},{"issue_id":"gwt-t39","depends_on_id":"gwt-4io","type":"blocks","created_at":"2026-01-11T16:30:33.243277+01:00","created_by":"timo"},{"issue_id":"gwt-t39","depends_on_id":"gwt-2on","type":"blocks","created_at":"2026-01-11T16:30:33.578385+01:00","created_by":"timo"}]}
{"id":"gwt-vio","title":"Increment 4: CLI Framework \u0026 Command Routing","description":"Implement the CLI argument parsing framework and command routing system. This provides the user interface foundation.\n\n**Files to Create:**\n- bin/gwt.dart\n- lib/src/commands/base.dart\n- lib/src/commands/help.dart\n- lib/src/commands/version.dart\n- test/unit/commands/help_test.dart\n- test/unit/commands/version_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 10.1: Command reference with all commands\n- From ARCHITECTURE.md Section 5.1: Command handlers with base interface\n\n**Instructions:**\n1. Create ArgParser setup for all commands (add, switch, clean, list)\n2. Implement command routing in main entry point\n3. Create BaseCommand abstract class with execute() method\n4. Implement Help command that displays help for all commands\n5. Implement Version command that displays version information\n6. Add --help flag for all commands\n7. Add --version flag\n8. Validate arguments and show errors with exit code 2\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `gwt --help` displays help message for all commands\n2. `gwt --version` displays version information\n3. `gwt add --help` shows help for add command with all options\n4. `gwt switch --help` shows help for switch command\n5. `gwt clean --help` shows help for clean command with force flag\n6. `gwt list --help` shows help for list command with verbose/json flags\n7. Invalid commands display error message and exit with code 2\n8. Missing required arguments display error and exit with code 2\n9. Command parser matches PRD specification exactly\n10. All unit tests pass with 90%+ coverage for command routing","status":"open","priority":0,"issue_type":"task","estimated_minutes":180,"created_at":"2026-01-11T16:29:19.214939+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:19.214939+01:00","labels":["cli","commands"],"dependencies":[{"issue_id":"gwt-vio","depends_on_id":"gwt-7dq","type":"blocks","created_at":"2026-01-11T16:30:30.752396+01:00","created_by":"timo"}]}
{"id":"gwt-wg6","title":"Increment 7: Add Command (Basic)","description":"Implement the add command for creating worktrees from existing branches, without hooks or file copying. This provides core worktree creation functionality.\n\n**Files to Create:**\n- lib/src/commands/add.dart\n- lib/src/services/worktree_service.dart\n- test/unit/services/worktree_service_test.dart\n- test/unit/commands/add_test.dart\n- test/integration/add_command_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.1.1: Add Worktree command\n- From ARCHITECTURE.md Section 5.2: Worktree Service orchestration\n- From PRD.md Section 10.2: Exit codes 3 (worktree exists), 4 (branch not found), 7 (Git failed)\n\n**Instructions:**\n1. Implement WorktreeService for worktree operations\n2. Implement AddCommand with branch and -b flags\n3. Create worktree in `\u003cparent-dir\u003e/worktrees/\u003crepo-name\u003e_\u003cbranch-name\u003e/`\n4. Implement path resolution for worktree directory\n5. Validate branch exists (unless -b flag used)\n6. Validate worktree doesn't already exist\n7. Fail with exit code 3 if worktree already exists\n8. Fail with exit code 4 if branch doesn't exist (without -b flag)\n9. Fail with exit code 7 if Git command fails\n10. Run from main Git repository only\n11. Never create worktree inside Git workspace directory\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. `gwt add feature/auth` creates worktree from existing branch\n2. `gwt add -b feature/auth` creates new branch then worktree\n3. Creates worktree in `\u003cparent-dir\u003e/worktrees/\u003crepo-name\u003e_\u003cbranch-name\u003e/`\n4. Fails with exit code 3 if worktree already exists\n5. Fails with exit code 4 if branch doesn't exist (without -b flag)\n6. Fails with exit code 7 if Git command fails\n7. Creates worktree directory successfully\n8. Validates that worktree was created\n9. Runs from main Git repository only\n10. Never creates worktree inside Git workspace directory\n11. All unit and integration tests pass with 90%+ coverage for AddCommand and WorktreeService","status":"open","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2026-01-11T16:29:30.698148+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:30.698148+01:00","labels":["add","commands"],"dependencies":[{"issue_id":"gwt-wg6","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:31.93335+01:00","created_by":"timo"},{"issue_id":"gwt-wg6","depends_on_id":"gwt-4io","type":"blocks","created_at":"2026-01-11T16:30:32.234731+01:00","created_by":"timo"},{"issue_id":"gwt-wg6","depends_on_id":"gwt-2on","type":"blocks","created_at":"2026-01-11T16:30:32.60784+01:00","created_by":"timo"}]}
{"id":"gwt-x5m","title":"Increment 10: Copy Service","description":"Implement the file/directory copying service with Copy-on-Write optimization. This enables sharing local files across worktrees.\n\n**Files to Create:**\n- lib/src/services/copy_service.dart\n- test/unit/services/copy_service_test.dart\n- test/integration/copy_service_test.dart\n\n**Relevant Requirements:**\n- From PRD.md Section 3.3: File/Directory Copying\n- From ARCHITECTURE.md Section 5.5: Copy Service with CoW optimization\n- From PRD.md Section 3.3.2: Copy-on-Write detection and fallback\n\n**Instructions:**\n1. Implement CopyService for file/directory copying\n2. Implement Copy-on-Write detection for macOS APFS\n3. Implement reflink for Linux Btrfs/XFS\n4. Implement glob pattern matching for files and directories\n5. Copy files matching glob patterns from config\n6. Copy directories recursively from config\n7. Attempt CoW (clone) on macOS APFS filesystem\n8. Attempt reflink on Linux Btrfs/XFS filesystem\n9. Fall back to standard copy if CoW unavailable\n10. Preserve directory structure when copying\n11. Handle missing source files gracefully (warning only)\n12. Support glob patterns: `*.env`, `**/*.json`, `config/*`\n13. Integrate with AddCommand (copies files after worktree creation)\n\n**REMINDER: All new and updated code should be covered by unit tests.**","acceptance_criteria":"1. Copies files matching glob patterns from config\n2. Copies directories recursively from config\n3. Attempts CoW (clone) on macOS APFS filesystem\n4. Attempts reflink on Linux Btrfs/XFS filesystem\n5. Falls back to standard copy if CoW unavailable\n6. Preserves directory structure when copying\n7. Handles missing source files gracefully (warning only)\n8. Supports glob patterns: `*.env`, `**/*.json`, `config/*`\n9. Integrates with AddCommand (copies files after worktree creation)\n10. Reports copy errors but doesn't fail the entire operation\n11. All unit and integration tests pass with 95%+ coverage for CopyService","status":"open","priority":1,"issue_type":"task","estimated_minutes":300,"created_at":"2026-01-11T16:29:42.884202+01:00","created_by":"timo","updated_at":"2026-01-11T16:29:42.884202+01:00","labels":["copy","services"],"dependencies":[{"issue_id":"gwt-x5m","depends_on_id":"gwt-a9i","type":"blocks","created_at":"2026-01-11T16:30:34.590921+01:00","created_by":"timo"},{"issue_id":"gwt-x5m","depends_on_id":"gwt-nv3","type":"blocks","created_at":"2026-01-11T16:30:34.923643+01:00","created_by":"timo"}]}
